# portfolio-infrastructure

## Overview

This project is designed to be a demonstration of a simple CRUD application running in an environment provisioned via Infrastructure as Code.  This application will be tied into a CI\CD pipeline to handle deployments to prod and the other environments.  The goal is to automate as much of this process as possible.  The project is a work in progress - in lieu of the future web app, the servers use a simple Hello World page as a stand in for the time being.

This is the infrastructure repository which will stand up the underlying AWS infrastructure to host the website in a resilient manor.  It includes the following components:
* A VPC with subnets in multiple availability zones
* An autoscaling group for compute located behind a load balancer
* The load balancer is assigned a DNS name for easy access


## Pre-requisites
Terraform is used to provision the resources in AWS.  Installation is simply a matter of dropping the terraform.exe binary into the PATH on your local machine.  More information: 
    https://learn.hashicorp.com/terraform/getting-started/install.html

You will also need to setup programmatic access into AWS by generating an AWS Access Key and AWS Secret Access Key.  These secrets can be specified in the terraform config files, or, if credentials aren't specified in the config, terraform will automatically search for saved API creds in the normal location generated by the AWS CLI tool.  More information on setting this up can be found here:
    https://docs.aws.amazon.com/cli/latest/userguide/cli-chap-configure.html


## Building the Code
Clone the repository and navigate to the environment you wish to deploy and use the command:
* Terraform plan - to preview what infrastructure terraform will provision
* Terraform apply - will provision the resources defined in the scripts
* Terraform destroy - to destroy (delete) the resources that were previously created by the config


## To Do
This configuration still contains several notable deficiencies that would need to be addressed before using it in a production environment.  These include:
* Add a NACL and tighten up access so the cluster is only accessible from the load balancer
* Add a SSL cert and update things to support HTTPS
* Add a bunch of logging and alerting
* It would be better to use remote state stored in S3 vs on the local workstation
* Remove external SSH access to the EC2 instances and use a bastion host instead